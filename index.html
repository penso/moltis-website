<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        (function(){
            var t = localStorage.getItem('theme') || 'system';
            if (t === 'dark' || (t === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>Moltis — a Rust gateway inspired by OpenClaw.</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <meta name="description" content="Moltis — a Rust gateway inspired by OpenClaw.">
    <meta property="og:title" content="Moltis">
    <meta property="og:description" content="Moltis — a Rust gateway inspired by OpenClaw.">
    <meta property="og:image" content="https://moltis.org/og-image.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://moltis.org">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://moltis.org/og-image.png">
    <meta name="twitter:title" content="Moltis">
    <meta name="twitter:description" content="Moltis — a Rust gateway inspired by OpenClaw.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=JetBrains+Mono:wght@400&family=Outfit:wght@700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'system-ui', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                },
            },
        }
        function applyTheme(mode) {
            if (mode === 'dark' || (mode === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        }
        const savedTheme = localStorage.getItem('theme') || 'system';
        applyTheme(savedTheme);
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
            if ((localStorage.getItem('theme') || 'system') === 'system') applyTheme('system');
        });
    </script>
    <style>
        @keyframes pulse-slow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }
        .animate-pulse-slow { animation: pulse-slow 4s ease-in-out infinite; }
    </style>
</head>
<body class="bg-white dark:bg-gray-950 text-gray-900 dark:text-white min-h-screen flex items-center justify-center relative transition-colors duration-300 pt-2 pb-8 overflow-x-hidden">
    <div class="absolute inset-0">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-orange-300/20 dark:bg-orange-600/15 rounded-full blur-3xl animate-pulse-slow"></div>
        <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-red-300/20 dark:bg-red-600/15 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 2s;"></div>
    </div>
    <div class="relative z-10 text-center px-6 w-full max-w-2xl">
        <div class="flex justify-end mb-1">
            <div class="flex items-center gap-0.5 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md p-0.5" id="theme-switch">
                <button data-theme="light" title="Light" class="p-1 rounded transition-colors">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
                </button>
                <button data-theme="system" title="System" class="p-1 rounded transition-colors">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
                </button>
                <button data-theme="dark" title="Dark" class="p-1 rounded transition-colors">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
                </button>
            </div>
        </div>
        <div class="flex justify-center mb-4">
            <svg width="100" height="82" viewBox="0 0 160 130" fill="none" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="shell" x1="40" y1="40" x2="120" y2="110" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#f97316"/>
                        <stop offset="100%" stop-color="#ea580c"/>
                    </linearGradient>
                    <linearGradient id="claw" x1="0" y1="0" x2="50" y2="50" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#fb923c"/>
                        <stop offset="100%" stop-color="#ea580c"/>
                    </linearGradient>
                    <radialGradient id="belly" cx="80" cy="85" r="30" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#fed7aa"/>
                        <stop offset="100%" stop-color="#fdba74"/>
                    </radialGradient>
                </defs>

                <!-- Left claw arm -->
                <path d="M44 55 Q30 38 18 26" stroke="url(#claw)" stroke-width="8" stroke-linecap="round" fill="none"/>
                <!-- Left claw top pincer -->
                <path d="M18 26 Q10 14 4 8 Q0 4 2 0 Q6 -2 10 2 Q14 6 16 14 Q17 18 18 26" fill="url(#claw)"/>
                <!-- Left claw bottom pincer -->
                <path d="M18 26 Q8 26 2 30 Q-2 33 0 36 Q3 39 8 36 Q13 33 18 26" fill="url(#claw)"/>

                <!-- Right claw arm -->
                <path d="M116 55 Q130 38 142 26" stroke="url(#claw)" stroke-width="8" stroke-linecap="round" fill="none"/>
                <!-- Right claw top pincer -->
                <path d="M142 26 Q150 14 156 8 Q160 4 158 0 Q154 -2 150 2 Q146 6 144 14 Q143 18 142 26" fill="url(#claw)"/>
                <!-- Right claw bottom pincer -->
                <path d="M142 26 Q152 26 158 30 Q162 33 160 36 Q157 39 152 36 Q147 33 142 26" fill="url(#claw)"/>

                <!-- Left legs -->
                <path d="M50 82 Q32 90 18 100" stroke="#ea580c" stroke-width="5" stroke-linecap="round" fill="none" opacity="0.8"/>
                <path d="M46 90 Q30 102 16 114" stroke="#ea580c" stroke-width="5" stroke-linecap="round" fill="none" opacity="0.7"/>
                <path d="M48 98 Q38 112 30 124" stroke="#ea580c" stroke-width="4" stroke-linecap="round" fill="none" opacity="0.6"/>

                <!-- Right legs -->
                <path d="M110 82 Q128 90 142 100" stroke="#ea580c" stroke-width="5" stroke-linecap="round" fill="none" opacity="0.8"/>
                <path d="M114 90 Q130 102 144 114" stroke="#ea580c" stroke-width="5" stroke-linecap="round" fill="none" opacity="0.7"/>
                <path d="M112 98 Q122 112 130 124" stroke="#ea580c" stroke-width="4" stroke-linecap="round" fill="none" opacity="0.6"/>

                <!-- Body -->
                <ellipse cx="80" cy="76" rx="40" ry="32" fill="url(#shell)"/>

                <!-- Belly highlight -->
                <ellipse cx="80" cy="82" rx="24" ry="18" fill="url(#belly)" opacity="0.4"/>

                <!-- Shell texture lines -->
                <path d="M80 44 L80 108" stroke="#c2410c" stroke-width="0.8" opacity="0.25"/>
                <path d="M52 52 Q80 68 108 52" stroke="#c2410c" stroke-width="0.8" opacity="0.2" fill="none"/>
                <path d="M44 70 Q80 88 116 70" stroke="#c2410c" stroke-width="0.8" opacity="0.2" fill="none"/>

                <!-- Eye stalks -->
                <ellipse cx="64" cy="52" rx="4" ry="6" fill="#f97316"/>
                <ellipse cx="96" cy="52" rx="4" ry="6" fill="#f97316"/>

                <!-- Eyes (white) -->
                <ellipse cx="64" cy="56" rx="9" ry="10" fill="white"/>
                <ellipse cx="96" cy="56" rx="9" ry="10" fill="white"/>

                <!-- Pupils -->
                <ellipse cx="65" cy="56" rx="5" ry="6" fill="#1c1917"/>
                <ellipse cx="97" cy="56" rx="5" ry="6" fill="#1c1917"/>

                <!-- Eye shine -->
                <ellipse cx="67" cy="53" rx="2" ry="2.5" fill="white" opacity="0.9"/>
                <ellipse cx="99" cy="53" rx="2" ry="2.5" fill="white" opacity="0.9"/>

                <!-- Smile -->
                <path d="M68 80 Q80 90 92 80" stroke="#9a3412" stroke-width="2.5" stroke-linecap="round" fill="none"/>
            </svg>
        </div>
        <h1 class="text-6xl font-bold tracking-tight mb-4 bg-gradient-to-r from-orange-500 to-red-500 dark:from-orange-400 dark:to-red-400 bg-clip-text text-transparent" style="font-family: 'Outfit', sans-serif;">
            Moltis
        </h1>
        <!-- Terminal teaser -->
        <div class="max-w-3xl mx-auto text-left my-8">
            <div class="bg-gray-100 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden shadow-lg">
                <div class="flex items-center gap-2 px-4 py-2.5 bg-gray-200 dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700">
                    <span class="w-3 h-3 rounded-full bg-red-400"></span>
                    <span class="w-3 h-3 rounded-full bg-yellow-400"></span>
                    <span class="w-3 h-3 rounded-full bg-green-400"></span>
                    <span class="ml-2 text-xs font-mono text-gray-400 dark:text-gray-500">~ terminal</span>
                </div>
                <div class="p-4 font-mono text-xs leading-relaxed overflow-x-auto" style="min-height: 21em;">
                    <p class="text-gray-500 dark:text-gray-500 mb-3">$ <span class="text-gray-700 dark:text-gray-300">moltis</span></p>
                    <div class="text-gray-400 dark:text-gray-500 space-y-0.5" id="terminal-output"></div>
                </div>
            </div>
        </div>
        <a href="https://github.com/penso/moltis" class="inline-flex items-center gap-2 px-5 py-2.5 mb-8 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:border-orange-400 dark:hover:border-orange-500 hover:text-orange-600 dark:hover:text-orange-400 transition-colors text-sm font-medium">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
            View on GitHub
        </a>
        <p class="font-mono text-sm text-gray-400 dark:text-gray-500 mb-8 leading-relaxed max-w-md mx-auto">
            Ferris molted. The shell cracked open.<br>
            Now the claw speaks on every channel,<br>
            remembers everything, and <span class="text-orange-500 dark:text-orange-400">owns your localhost</span>.<br>
            <span class="italic opacity-70">Blazingly fast. Zero-cost abstractions.</span>
        </p>
        <p class="inline-flex items-center gap-3 text-xs text-gray-400 dark:text-gray-600">
            <span class="inline-flex items-center gap-1.5">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                MIT Licensed
            </span>
            <a href="https://github.com/penso/moltis" class="inline-flex items-center gap-1.5 hover:text-orange-500 dark:hover:text-orange-400 transition-colors">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>
                GitHub
            </a>
        </p>
        <p class="text-xs text-gray-400 dark:text-gray-600 mt-2">
            built with love ❤️ by <a href="https://pen.so" class="underline hover:text-orange-500 dark:hover:text-orange-400 transition-colors">Fabien Penso</a>
        </p>
    </div>

    <script>
        const lines = [
            { color: false, text: '  moltis gateway v0.1.0' },
            { color: false, text: '  protocol v3, listening on ', link: 'https://moltis.localhost:1087' },
            { color: true, text: '  llm: 3 providers, 21 models' },
            { color: true, text: '  skills: 4 enabled, 3 repos' },
            { color: true, text: '  mcp: 1 configured (starting in background)' },
            { color: true, text: '  sandbox: apple-container backend' },
            { color: false, text: '  config: ~/.config/moltis/moltis.toml' },
            { color: false, text: '  data: ~/.moltis' },
            { color: false, text: '  run `moltis trust-ca` to remove browser warnings' },
        ];
        const container = document.getElementById('terminal-output');
        let i = 0;
        function addLine() {
            if (i >= lines.length) return;
            const line = lines[i];
            const el = document.createElement('p');
            el.style.whiteSpace = 'pre';
            el.className = line.color
                ? 'text-orange-600 dark:text-orange-400'
                : 'text-gray-500 dark:text-gray-500';
            el.textContent = line.text;
            if (line.link) {
                const span = document.createElement('span');
                span.textContent = line.link;
                span.className = 'underline cursor-default';
                el.appendChild(span);
            }
            container.appendChild(el);
            i++;
            setTimeout(addLine, 80 + Math.random() * 60);
        }
        setTimeout(addLine, 600);

        // Theme switch
        const switchEl = document.getElementById('theme-switch');
        function updateButtons(active) {
            switchEl.querySelectorAll('button').forEach(btn => {
                const isActive = btn.dataset.theme === active;
                btn.className = 'p-1 rounded transition-colors ' + (isActive
                    ? 'bg-white dark:bg-gray-700 text-orange-500 shadow-sm'
                    : 'text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300');
            });
        }
        updateButtons(savedTheme);
        switchEl.addEventListener('click', e => {
            const btn = e.target.closest('button[data-theme]');
            if (!btn) return;
            const mode = btn.dataset.theme;
            localStorage.setItem('theme', mode);
            applyTheme(mode);
            updateButtons(mode);
        });
    </script>
</body>
</html>
